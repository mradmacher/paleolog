u.password_salt = BCrypt::Engine.generate_salt
u.password = BCrypt::Password(u.password_salt + params[:password])
